
\begin{figure}[ht]
\begin{verbatim}
(defn emit-cond [head [name & rest]]
  (let [rev (reverse (partition 2 rest))]
    (reduce
    	(fn [a b] (str "(" (emit (first b)) "?" (emit (second b)) ":" a ")"))
        (str (emit (second (first rev))))
        (drop 1 rev))))
\end{verbatim}
\caption{emit-cond source code}
\label{fig:emit-cond-code}
\end{figure}
